query ExampleQuery($package: String!) @netlify(id: "d86699fb-ddfc-4833-9d9a-f3497cb7c992", doc: "A test query to snapshot") {
  npm {
    package(name: $package) {
      id
      readme
      license {
        url
      }
    }
  }
}

query GitHubViewer($size: Int!) @netlify(id: "2b0c3674-06b0-4a84-b296-afa92c10dc6b", doc: "An example query to start with.") {
  gitHub {
    viewer {
      bio
      email
      name
      login
      avatarUrl(size: $size)
    }
  }
}

subscription NpmPublishActivity @netlify(id: "39b94699-9a08-4deb-bf06-8e5b4d5eee9f", doc: "Package info with open issue count on every publish") {
  npm {
    allPublishActivity {
      package {
        id
        name
        description
        license {
          url
        }
        repository {
          sourceRepository {
            ... on GitHubRepository {
              id
              name
              issues(states: OPEN) {
                totalCount
              }
            }
          }
        }
      }
    }
  }
}

query GitHubRepositoryIssues($owner: String!, $name: String!, $first: Int = 1) @netlify(id: "12b5bdea-9bab-4164-a731-5e697b1552be", doc: "GitHub issues for everyone") {
  gitHub {
    repository(name: $name, owner: $owner) {
      issues(first: $first) {
        edges {
          node {
            body
            bodyHTML
            id
            oneGraphId
            state
            url
          }
        }
      }
    }
  }
}
